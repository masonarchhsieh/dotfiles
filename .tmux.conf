new-session -n $HOST
source /usr/lib/python3.7/site-packages/powerline/bindings/tmux/powerline.conf
## set the default TERM
set -g default-terminal screen

## update the TERM variable of terminal emulator when creating a new session or attaching a existing session
set -g update-environment 'DISPLAY SSH_ASKPASS SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY TERM'
## determine if we should enable 256-colour support
if "[[ ${TERM} =~ 256color || ${TERM} == fbterm ]]" 'set -g default-terminal screen-256color'

 #if run as "tmux attach", create a session if one does not already exist
#new-session -n $HOST

# enable xterm-keys
set-option -g xterm-keys on

# emulator settings can be overridden with:
set -ga terminal-overrides ',xterm*:smcup@:rmcup@'
set -ga terminal-override ',rxvt-uni*:XT:Ms=\E]52;%p1%s;%p2%s\007'

# Vim style
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xsel -i -p && xsel -o -p | xsel -i -b"
bind-key p run "xsel -o | tmux load-buffer - ; tmux paste-buffer"

# 



#remap prefex
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

#split panes using | and -
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %


#reload config file
bind r source-file ~/.tmux.conf

#fast pane-switching
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D


#mouse mode
#set -g mouse-select-window on
#set -g mouse-select-pane on
#set -g mouse-resize-pane on

# after 2.1:
set -g mouse on

bind c new-window -c "#{pane_current_path}"
bind \ split-window -v "#{pane_current_path}"
bind | split-window -h -c "#{pane_current_path}"


# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1


#urxvt tab like window switching (-n: no prior escape seq)
bind -n S-down new-window
bind -n S-left prev
bind -n S-right next
bind -n C-left swap-window -t -1
bind -n C-right swap-window -t +1

# It can also come handy to supplement the EOT hotkey Ctrl+d with one for tmux's detach:
bind-key -n C-j detach

setw -g aggressive-resize on


# from here
#set-option -g status on
#set-option -g status-interval 2
#set-option -g status-justify "centre"
#set-option -g status-left-length 60
#set-option -g status-right-length 90
#set-option -g status-left "#(~/tmux-powerline/powerline.sh left)"
#set-option -g status-right "#(~/tmux-powerline/powerline.sh right)"
#set-window-option -g window-status-current-format "#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀"
#$bind C-[ run '~/tmux-powerline/mute_powerline.sh left'		# Mute left statusbar.
#$bind C-] run '~/tmux-powerline/mute_powerline.sh right'		# Mute right statusbar.


#set-window-option -g window-status-current-format "#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀"

